"use strict";(self.webpackChunkfrontdesign=self.webpackChunkfrontdesign||[]).push([[815],{815:(C,h,l)=>{l.r(h),l.d(h,{EmployeeModule:()=>w});var c=l(6895),d=l(6773),i=l(433),e=l(8256),v=l(2340),f=l(529);let u=(()=>{class o{constructor(t){this.http=t,this.serverURL=v.N.serverURL}getDeptDetails(){return this.http.get(`${this.serverURL}/employee/getDeptDetails`,{withCredentials:!0})}submitDoc(t){return this.http.post(`${this.serverURL}/employee/submitDoc`,t,{withCredentials:!0})}submitDocmentdetails(t){return this.http.post(`${this.serverURL}/employee/submitDocmentdetails`,t,{withCredentials:!0})}getDocumentDetails(){return this.http.get(`${this.serverURL}/employee/getDocumentDetails`,{withCredentials:!0})}requestData(t){return this.http.post(`${this.serverURL}/employee/requestData`,t,{withCredentials:!0})}submitReuploadDocmentdetails(t){return this.http.post(`${this.serverURL}/employee/submitReuploadDocmentdetails`,t,{withCredentials:!0})}getDeptidDetails(){return this.http.get(`${this.serverURL}/employee/getDeptidDetails`,{withCredentials:!0})}getdeptidData(){return this.http.get(`${this.serverURL}/employee/getdeptidData`,{withCredentials:!0})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=l(4383);let b=(()=>{class o{constructor(t,n,r,s){this.fb=t,this.router=n,this.employeeService=r,this.toastr=s,this.documentNameControl=new i.NI("",[i.kI.required,i.kI.minLength(3)]),this.attachedDocument=new i.NI(""),this.description=new i.NI(""),this.documentForm=this.fb.group({documentName:this.documentNameControl,attachedDocument:this.attachedDocument,description:this.description})}ngOnInit(){}onSubmit(){this.employeeService.submitDocmentdetails({documentName:this.documentForm.value.documentName,attachedDocument:this.documentForm.value.attachedDocument,description:this.documentForm.value.description}).subscribe(n=>{!0===n&&this.toastr.success("Data addded sucessfully")},n=>this.toastr.error(n.statusText,n.status))}onFileSelected(t){const n=t.target.files[0];n&&(["application/pdf","image/jpeg"].includes(n.type)||(alert("Only PDF and JPG files are allowed."),t.target.value=""))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(d.F0),e.Y36(u),e.Y36(g._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reupload-document"]],decls:43,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-lg-10"],["role","form",3,"formGroup"],["registrationFormID",""],[1,"card"],[1,"bg-warning-subtle","position-relative"],[1,"card-body","p-5"],[1,"text-center"],[1,"shape"],["version","1.1","width","1440","height","60","preserveAspectRatio","none","viewBox","0 0 1440 60"],["mask",'url("#SvgjsMask1001")',"fill","none"],["d","M 0,4 C 144,13 432,48 720,49 C 1008,50 1296,17 1440,9L1440 60L0 60z",2,"fill","var(--vz-secondary-bg)"],["id","SvgjsMask1001"],["width","1440","height","60","fill","#ffffff"],[1,"card-body","p-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"col-6"],[1,"mb-3"],["for","firstNameinput",1,"form-label"],["type","text","placeholder","Enter your firstname","id","firstNameinput",1,"form-control",3,"formControl"],["id","steparrow-description-info","role","tabpanel","aria-labelledby","steparrow-description-info-tab",1,"tab-pane","fade","show","active"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept",".pdf, .jpg, .jpeg",1,"form-control",3,"formControl","change"],["for","des-info-description-input",1,"form-label"],["placeholder","Enter Description","id","des-info-description-input","rows","3","required","",1,"form-control",3,"formControl"],[1,"invalid-feedback"],[1,"text-end","text-center"],[1,"gap-3","mt-4"],["type","button",1,"btn","btn-info","ms-auto","me-2"],["type","button",1,"btn","btn-success","ms-auto",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9,"Document Entry"),e.qZA()()(),e.TgZ(10,"div",8),e.O4$(),e.TgZ(11,"svg",9)(12,"g",10),e._UZ(13,"path",11),e.qZA(),e.TgZ(14,"defs")(15,"mask",12),e._UZ(16,"rect",13),e.qZA()()()()(),e.kcU(),e.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"label",19),e._uU(23,"Document Name"),e.qZA(),e._UZ(24,"input",20),e.qZA()(),e.TgZ(25,"div",21)(26,"div")(27,"div",18)(28,"label",22),e._uU(29,"Attach Document"),e.qZA(),e.TgZ(30,"input",23),e.NdJ("change",function(s){return n.onFileSelected(s)}),e.qZA()(),e.TgZ(31,"div")(32,"label",24),e._uU(33,"Description"),e.qZA(),e._UZ(34,"textarea",25),e.TgZ(35,"div",26),e._uU(36,"Please enter a description"),e.qZA()()()()()(),e.TgZ(37,"div",27)(38,"div",28)(39,"button",29),e._uU(40,"Reset"),e.qZA(),e.TgZ(41,"button",30),e.NdJ("click",function(){return n.onSubmit()}),e._uU(42,"Submit"),e.qZA()()()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",n.documentForm),e.xp6(22),e.Q6J("formControl",n.documentNameControl),e.xp6(6),e.Q6J("formControl",n.attachedDocument),e.xp6(4),e.Q6J("formControl",n.description))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.oH,i.sg]}),o})();function Z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",8),e._UZ(7,"i",9),e._uU(8," Open File "),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"textarea",10),e.NdJ("ngModelChange",function(r){const p=e.CHM(t).$implicit;return e.KtG(p.replyText=r)}),e.qZA()(),e.TgZ(13,"td")(14,"button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.sendReply(s.replyText,s.docId))}),e._uU(15,"Request"),e.qZA()()()}if(2&o){const t=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.hij(" ",t.docName," "),e.xp6(2),e.Q6J("href",t.docPath,e.LSH),e.xp6(4),e.Oqu(t.Remark),e.xp6(2),e.Q6J("ngModel",t.replyText)}}function D(o,a){if(1&o&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij("",t.docName," ")}}function F(o,a){if(1&o&&(e.TgZ(0,"span",22)(1,"span",23),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.bankFileFileGood)}}const m={role:"Employee"},_=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"views",component:(()=>{class o{constructor(t,n,r){this.fb=t,this.router=n,this.employeeService=r,this.replyText=""}ngOnInit(){this.loadDetails()}loadDetails(){this.employeeService.getDocumentDetails().subscribe(t=>{console.log(t),this.documentDetails=t},t=>{alert(`Error: ${t.statusText} (Status: ${t.status})`)})}sendReply(t,n){this.employeeService.requestData({reply:t,id:n}).subscribe(s=>{"true"===s[0].msg&&alert("Data inserted successfully")},s=>{alert(`Error: ${s.statusText} (Status Code: ${s.status})`)})}photoshow(t){const n=new Image;n.src=t;const r=window.open("");r?r.document.write(n.outerHTML):console.error("Failed to open a new window. Please check pop-up settings.")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(d.F0),e.Y36(u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-empview"]],decls:24,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["id","example",1,"table","table-bordered","dt-responsive","nowrap","table-striped","align-middle",2,"width","100%"],[4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"href"],["aria-hidden","true",1,"fa","fa-eye",2,"font-size","24px","display","block","margin-bottom","4px"],["placeholder","Write your reply...",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-soft-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Documents Details"),e.qZA()(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),e._uU(11,"SR No."),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Document Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Document Details"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Remarks"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Request"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Z,16,5,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(23),e.Q6J("ngForOf",n.documentDetails))},dependencies:[c.sg,i.Fj,i.JJ,i.On]}),o})(),data:m},{path:"reupload",component:b,data:m},{path:"docentry",component:(()=>{class o{constructor(t,n,r,s){this.fb=t,this.router=n,this.employeeService=r,this.toastr=s,this.isSubmitDisabled=!1,this.documentForm=this.fb.group({documentName:["",i.kI.required],docId:["",i.kI.required],description:["",i.kI.required],attachedDocument:["",i.kI.required]})}ngOnInit(){this.loadDetails()}get mrf(){return this.documentForm.controls}get documentName(){return this.documentForm.get("documentName")}get docId(){return this.documentForm.get("docId")}get description(){return this.documentForm.get("description")}loadDetails(){this.employeeService.getdeptidData().subscribe(t=>{this.documentDetails=t},t=>this.toastr.error(t.statusText,t.status))}selectedbankFile(t){if(this.documentFileUrl=t.target.files[0],null!=this.documentFileUrl){var n=this.documentFileUrl.size;["image/jpeg","image/png","image/jpg","application/pdf"].includes(this.documentFileUrl.type)?(this.bankFileFileGood="",this.showbankFileError=!0,n>5e6&&(alert("file size too large"),this.documentForm.patchValue({attachedDocument:""}),this.showbankFileError=!0,this.bankFileFileGood="File size too large")):(this.bankFileFileGood="Wrong file Type Selected",this.documentForm.patchValue({attachedDocument:""}),this.showbankFileError=!0)}else window.alert("Upload Mandatory Files")}onSubmit(){const t={documentName:this.documentForm.value.documentName.docName,description:this.documentForm.value.description,docId:this.documentForm.value.documentName.docNameId},n=new FormData;n.append("documentFile",this.documentFileUrl),n.append("value",JSON.stringify(t)),this.employeeService.submitDocmentdetails(n).subscribe(r=>{!0===r?(alert("Data submitted successfully"),this.loadDetails()):alert("Unexpected response from the server.")},r=>{alert(`Error: ${r.statusText} (Status: ${r.status})`)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(d.F0),e.Y36(u),e.Y36(g._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-docupload"]],decls:38,vars:3,consts:[[1,"main-card","mb-3","card"],[1,"card-header"],[1,"header-icon","lnr-license","icon-gradient","bg-plum-plate"],["novalidate","","autocomplete","off","role","form",3,"formGroup"],["documentFormID",""],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col-md-4","col-sm-6","col-xs-12"],["for","ddlFinancialYear",1,"control-label"],[1,"text-danger"],["id","ddlFinacialYear","formControlName","documentName","name","documentName","id","documentName","required","",1,"form-control"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","ddlFarmerwithImplements",1,"control-label"],["type","file","accept","image/jpeg, image/png,image/jpg, application/pdf","placeholder","","formControlName","attachedDocument","name","attachedDocument","id","attachedDocument","required","",1,"form-control",3,"change"],["for","",2,"font-size","10px","color","red"],["style","color:red;font-size: 15px; margin-left: 40px;",4,"ngIf"],["type","text","placeholder","remark","formControlName","description","name","description","id","description","required","",1,"form-control"],[1,"d-block","text-right","card-footer"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"ngValue"],[2,"color","red","font-size","15px","margin-left","40px"],[2,"color","red"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e._uU(3,"Document Entry "),e.qZA(),e.TgZ(4,"form",3,4)(6,"div",5),e._UZ(7,"h5",6),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Document Name "),e.TgZ(12,"span",10),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"select",11)(15,"option",12),e._uU(16,"---Select Dept Id---"),e.qZA(),e.YNc(17,D,2,2,"option",13),e.qZA()(),e.TgZ(18,"div",8)(19,"label",14),e._uU(20,"Upload Bank Payment File"),e.TgZ(21,"span",10),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"input",15),e.NdJ("change",function(s){return n.selectedbankFile(s)}),e.qZA(),e.TgZ(24,"label",16),e._uU(25,"\xa0\xa0 **File size should be less than 5MB"),e.qZA(),e._UZ(26,"br"),e.YNc(27,F,3,1,"span",17),e.qZA(),e.TgZ(28,"div",8)(29,"label",9),e._uU(30,"Document Remark "),e.TgZ(31,"span",10),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",18),e.qZA()(),e._UZ(34,"br"),e.qZA(),e.TgZ(35,"div",19)(36,"button",20),e.NdJ("click",function(){return n.onSubmit()}),e._uU(37,"Submit"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",n.documentForm),e.xp6(13),e.Q6J("ngForOf",n.documentDetails),e.xp6(10),e.Q6J("ngIf",n.showbankFileError))},dependencies:[c.sg,c.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u]}),o})(),data:m}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(_),d.Bz]}),o})(),w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,U,i.u5,i.UX,f.JF]}),o})()}}]);