"use strict";(self.webpackChunkfrontdesign=self.webpackChunkfrontdesign||[]).push([[157],{1157:(P,d,i)=>{i.d(d,{w:()=>F});var r=i(433),t=i(8256),c=i(4383),p=i(6773),m=i(2340),g=i(529);let f=(()=>{class e{constructor(o){this.http=o,this.serverURL=m.N.serverURL}getDeptDetails(){return this.http.get(`${this.serverURL}/getDeptDetails`,{withCredentials:!0})}submitDoc(o){return this.http.post(`${this.serverURL}/submitDoc`,o,{withCredentials:!0})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(g.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(6895);function C(e,a){1&e&&(t.TgZ(0,"small",52),t._uU(1,"Name is required."),t.qZA())}function _(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,C,2,0,"small",51),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.nameControl.errors?null:o.nameControl.errors.required)}}function v(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Email ID is required."),t.qZA())}function h(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Please enter a valid email address (e.g., example@domain.com). "),t.qZA())}function Z(e,a){if(1&e&&(t.TgZ(0,"div",53),t.YNc(1,v,2,0,"span",19),t.YNc(2,h,2,0,"span",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.emailControl.errors?null:o.emailControl.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.emailControl.errors?null:o.emailControl.errors.pattern)}}function I(e,a){1&e&&(t.TgZ(0,"small",52),t._uU(1,"Contact is required."),t.qZA())}function T(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,I,2,0,"small",51),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.contactControl.errors?null:o.contactControl.errors.required)}}function b(e,a){1&e&&(t.TgZ(0,"small",52),t._uU(1,"Alternate Contact is required."),t.qZA())}function A(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,b,2,0,"small",51),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.alternateControl.errors?null:o.alternateControl.errors.required)}}function x(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Password is required."),t.qZA())}function q(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Password must be 8-50 characters and include at least one uppercase letter, one lowercase letter, one digit, and one special character. "),t.qZA())}function y(e,a){if(1&e&&(t.TgZ(0,"div",53),t.YNc(1,x,2,0,"span",19),t.YNc(2,q,2,0,"span",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.passwordControl.errors?null:o.passwordControl.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.passwordControl.errors?null:o.passwordControl.errors.pattern)}}function N(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Passport number is required."),t.qZA())}function w(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Passport number must follow the format: 1-2 uppercase letters followed by 6 digits. "),t.qZA())}function R(e,a){if(1&e&&(t.TgZ(0,"div",53),t.YNc(1,N,2,0,"span",19),t.YNc(2,w,2,0,"span",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.passportControl.errors?null:o.passportControl.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.passportControl.errors?null:o.passportControl.errors.pattern)}}function D(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"PAN Card number is required."),t.qZA())}function U(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," PAN Card number must follow the format: AAAAA9999A. "),t.qZA())}function k(e,a){if(1&e&&(t.TgZ(0,"div",54),t.YNc(1,D,2,0,"span",19),t.YNc(2,U,2,0,"span",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.pancardControl.errors?null:o.pancardControl.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.pancardControl.errors?null:o.pancardControl.errors.pattern)}}function J(e,a){if(1&e&&(t.TgZ(0,"option",55),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.Q6J("ngValue",o.deptId),t.xp6(1),t.hij(" ",o.deptName," ")}}function Q(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Employee ID is required."),t.qZA())}function M(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Employee ID must follow the format: IMPL/RE**OD***. "),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"div",53),t.YNc(1,Q,2,0,"span",19),t.YNc(2,M,2,0,"span",19),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.employeeIdControl.errors?null:o.employeeIdControl.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.employeeIdControl.errors?null:o.employeeIdControl.errors.pattern)}}let F=(()=>{class e{constructor(o,n,l,s){this.toastr=o,this.fb=n,this.router=l,this.pageService=s,this.formSubmitted=!1,this.errorMessage="",this.successMessage="",this.nameControl=new r.NI("",[r.kI.required,r.kI.minLength(3)]),this.emailControl=new r.NI("",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]),this.contactControl=new r.NI("",[r.kI.required,r.kI.pattern(/^[0-9]{10}$/)]),this.alternateControl=new r.NI("",[r.kI.required,r.kI.pattern(/^[0-9]{10}$/)]),this.passwordControl=new r.NI("",[r.kI.required,r.kI.pattern(/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d)(?=.*?[#?!@$%^&*.-]).{8,50}$/)]),this.pancardControl=new r.NI("",[r.kI.required,r.kI.pattern(/^[A-Z]{5}[0-9]{4}[A-Z]$/)]),this.passportControl=new r.NI("",[r.kI.required,r.kI.pattern(/^[A-Z]{1,2}[0-9]{6}$/)]),this.employeeIdControl=new r.NI("",[r.kI.required,r.kI.pattern(/^IMPL\/RE[0-9A-Za-z]{4}[0-9]{3}$/)]),this.registrationForm=this.fb.group({nameControl:this.nameControl,emailControl:this.emailControl,contactControl:this.contactControl,alternateControl:this.alternateControl,passwordControl:this.passwordControl,pancardControl:this.pancardControl,passportControl:this.passportControl,userTypeControl:["Employee",[r.kI.required]],departmentControl:["Electrical",[r.kI.required]],employeeIdControl:this.employeeIdControl})}get departmentControl(){return this.registrationForm.get("departmentControl")}ngOnInit(){this.fetchDeptDetails(),this.loadDeptDetails()}loadDeptDetails(){this.pageService.getDeptDetails().subscribe(o=>{this.deptDetails=o},o=>this.toastr.error(o.statusText,o.status))}fetchDeptDetails(){setTimeout(()=>{this.registrationForm.controls.departmentControl.setValue("")},200)}onInputChange(o){let n=o.target.value;n=n.replace(/\D/g,""),n.length>10&&(n=n.slice(0,10)),o.target.value=n,this.contactControl.setValue(n)}onInputChangeOne(o){let n=o.target.value;n=n.replace(/\D/g,""),n.length>10&&(n=n.slice(0,10)),o.target.value=n,this.alternateControl.setValue(n)}onSubmit(){null!=this.registrationForm.value&&""!=this.registrationForm.value&&this.pageService.submitDoc({Name:this.registrationForm.value.nameControl,Email:this.registrationForm.value.emailControl,contactNumber:this.registrationForm.value.contactControl,alternateNumber:this.registrationForm.value.alternateControl,password:this.registrationForm.value.passwordControl,pancard:this.registrationForm.value.pancardControl,passport:this.registrationForm.value.passportControl,userType:this.registrationForm.value.userTypeControl,department:this.registrationForm.value.departmentControl,employeeId:this.registrationForm.value.employeeIdControl}).subscribe(n=>{!0===n?(alert("Data added successfully"),this.router.navigate(["login"])):alert("Unexpected response received.")},n=>{console.error("Error:",n),500===n.status?alert("Internal Server Error: Please try again later."):400===n.status?alert("Bad Request: Please check your data and try again."):0===n.status?alert("Network Error: Please check your internet connection."):alert(`Error: ${n.statusText||"An unknown error occurred"}`)})}onReset(){this.registrationForm.reset()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c._W),t.Y36(r.qu),t.Y36(p.F0),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-registration"]],decls:99,vars:18,consts:[[1,"row"],[1,"col-lg-12"],["role","form",3,"formGroup"],["registrationFormID",""],[1,"card"],[1,"card-header","align-items-center","d-flex"],[1,"card-title","mb-0","flex-grow-1"],["type","button",1,"btn","rounded-pill","btn-info","btn-load"],[1,"d-flex","align-items-center"],["role","status",1,"spinner-grow","flex-shrink-0"],[1,"visually-hidden"],["routerLink","/login",1,"fw-bold","text-white"],[1,"flex-grow-1","ms-2"],[1,"card-body"],[1,"live-preview"],[1,"row","gy-4"],[1,"col-xxl-3","col-md-6"],["for","basiInput",1,"form-label"],["type","text","id","basiInput","placeholder","Enter your name",1,"form-control",3,"formControl"],[4,"ngIf"],["for","iconInput",1,"form-label"],[1,"form-icon"],["type","email","id","iconInput","placeholder","example@gmail.com",1,"form-control","form-control-icon",3,"formControl"],["class","error",4,"ngIf"],["type","number","id","basiInput","maxlength","10","placeholder","Enter Phone Number",1,"form-control",3,"formControl","input"],["for","basiInput1",1,"form-label"],["type","number","id","basiInput1","maxlength","10","placeholder","Enter Alternate Number",1,"form-control",3,"formControl","input"],["for","placeholderInput",1,"form-label"],["type","password","id","placeholderInput","placeholder","Password",1,"form-control",3,"formControl"],["for","basiInput2",1,"form-label"],["type","text","id","basiInput2","placeholder","Enter your name",1,"form-control",3,"formControl"],["for","basiInput3",1,"form-label"],["type","text","id","basiInput3","placeholder","Enter your name",1,"form-control",3,"formControl"],["class","error-message",4,"ngIf"],[1,""],[1,"form-check","mb-2"],["type","radio","id","flexRadioDefault1","formControlName","userTypeControl","value","Employee",1,"form-check-input"],["for","flexRadioDefault1",1,"form-check-label"],[1,"form-check"],["type","radio","id","flexRadioDefault2","formControlName","userTypeControl","value","Staff",1,"form-check-input"],["for","flexRadioDefault2",1,"form-check-label"],[1,"dropdown"],["formControlName","departmentControl",1,"form-control",3,"change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","basiInput4",1,"form-label"],["type","text","id","basiInput4","placeholder","Enter your name",1,"form-control",3,"formControl"],[1,"row","text-center"],[1,"text-center"],["type","button","data-text","Reset",1,"btn","btn-primary","btn-animation","waves-effect","waves-light","me-2",3,"click"],["type","button","data-text","Submit",1,"btn","btn-success","btn-animation","waves-effect","waves-light",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"error"],[1,"error-message"],[3,"ngValue"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Registration"),t.qZA(),t.TgZ(8,"button",7)(9,"span",8)(10,"span",9)(11,"span",10),t._uU(12,"Sign In"),t.qZA()(),t.TgZ(13,"a",11)(14,"span",12),t._uU(15," Sign In "),t.qZA()()()()(),t.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div")(21,"label",17),t._uU(22,"Name"),t.qZA(),t._UZ(23,"input",18),t.YNc(24,_,2,1,"div",19),t.qZA()(),t.TgZ(25,"div",16)(26,"div")(27,"label",20),t._uU(28,"Email"),t.qZA(),t.TgZ(29,"div",21),t._UZ(30,"input",22),t.YNc(31,Z,3,2,"div",23),t.qZA()()(),t.TgZ(32,"div",16)(33,"div")(34,"label",17),t._uU(35,"Contact Number"),t.qZA(),t.TgZ(36,"input",24),t.NdJ("input",function(s){return n.onInputChange(s)}),t.qZA(),t.YNc(37,T,2,1,"div",19),t.qZA()(),t.TgZ(38,"div",16)(39,"div")(40,"label",25),t._uU(41,"Alternate Number"),t.qZA(),t.TgZ(42,"input",26),t.NdJ("input",function(s){return n.onInputChangeOne(s)}),t.qZA(),t.YNc(43,A,2,1,"div",19),t.qZA()(),t.TgZ(44,"div",16)(45,"div")(46,"label",27),t._uU(47,"Input Passowrd"),t.qZA(),t._UZ(48,"input",28),t.YNc(49,y,3,2,"div",23),t.qZA()(),t.TgZ(50,"div",16)(51,"div")(52,"label",29),t._uU(53,"Passport ID"),t.qZA(),t._UZ(54,"input",30),t.YNc(55,R,3,2,"div",23),t.qZA()(),t.TgZ(56,"div",16)(57,"div")(58,"label",31),t._uU(59,"PAN CARD ID"),t.qZA(),t._UZ(60,"input",32),t.YNc(61,k,3,2,"div",33),t.qZA()(),t.TgZ(62,"div",16)(63,"label",34),t._uU(64," User Type "),t.qZA(),t.TgZ(65,"div",35),t._UZ(66,"input",36),t.TgZ(67,"label",37),t._uU(68," Employee "),t.qZA()(),t.TgZ(69,"div",38),t._UZ(70,"input",39),t.TgZ(71,"label",40),t._uU(72," Staff "),t.qZA()()(),t.TgZ(73,"div",16)(74,"div",41),t._uU(75," Department "),t.TgZ(76,"select",42),t.NdJ("change",function(){return n.loadDeptDetails()}),t.TgZ(77,"option",43),t._uU(78,"---Select Department Name ---"),t.qZA(),t.YNc(79,J,2,2,"option",44),t.qZA()()(),t.TgZ(80,"div",16)(81,"div")(82,"label",45),t._uU(83,"Employee ID"),t.qZA(),t._UZ(84,"input",46),t.YNc(85,Y,3,2,"div",23),t.qZA()()()()()()()()(),t.TgZ(86,"div",0)(87,"div",1)(88,"div",4)(89,"div",13)(90,"div",14)(91,"div",47)(92,"div",48)(93,"button",49),t.NdJ("click",function(){return n.onReset()}),t.TgZ(94,"span"),t._uU(95,"Reset"),t.qZA()(),t.TgZ(96,"button",50),t.NdJ("click",function(){return n.onSubmit()}),t.TgZ(97,"span"),t._uU(98,"Submit"),t.qZA()()()()()()()()()),2&o&&(t.xp6(2),t.Q6J("formGroup",n.registrationForm),t.xp6(21),t.Q6J("formControl",n.nameControl),t.xp6(1),t.Q6J("ngIf",n.nameControl.invalid&&(n.nameControl.dirty||n.nameControl.touched)),t.xp6(6),t.Q6J("formControl",n.emailControl),t.xp6(1),t.Q6J("ngIf",n.emailControl.invalid&&n.emailControl.touched),t.xp6(5),t.Q6J("formControl",n.contactControl),t.xp6(1),t.Q6J("ngIf",n.contactControl.invalid&&(n.contactControl.dirty||n.contactControl.touched)),t.xp6(5),t.Q6J("formControl",n.alternateControl),t.xp6(1),t.Q6J("ngIf",n.alternateControl.invalid&&(n.alternateControl.dirty||n.alternateControl.touched)),t.xp6(5),t.Q6J("formControl",n.passwordControl),t.xp6(1),t.Q6J("ngIf",n.passwordControl.invalid&&n.passwordControl.touched),t.xp6(5),t.Q6J("formControl",n.passportControl),t.xp6(1),t.Q6J("ngIf",n.passportControl.invalid&&n.passportControl.touched),t.xp6(5),t.Q6J("formControl",n.pancardControl),t.xp6(1),t.Q6J("ngIf",n.pancardControl.invalid&&n.pancardControl.touched),t.xp6(18),t.Q6J("ngForOf",n.deptDetails),t.xp6(5),t.Q6J("formControl",n.employeeIdControl),t.xp6(1),t.Q6J("ngIf",n.employeeIdControl.invalid&&n.employeeIdControl.touched))},dependencies:[u.sg,u.O5,p.yS,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r._,r.JJ,r.JL,r.nD,r.oH,r.sg,r.u],styles:['select.form-control[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMTRsLTgtOGguNzEzbDcuMjg3IDcuMjg3bDcuMjg3LTcuMjg3aC43MTNsLTggOHoiLz48L3N2Zz4=) no-repeat right 10px center;padding-right:30px}select.form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}select.form-control[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:100%;pointer-events:none;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTIgMTRsLTgtOGguNzEzbDcuMjg3IDcuMjg3bDcuMjg3LTcuMjg3aC43MTNsLTggOHoiLz48L3N2Zz4=) no-repeat right 10px center}.error[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}']}),e})()}}]);