"use strict";(self.webpackChunkfrontdesign=self.webpackChunkfrontdesign||[]).push([[8],{7008:(U,g,d)=>{d.r(g),d.d(g,{EmployeeModule:()=>x});var p=d(6895),u=d(6773),r=d(433),t=d(8256),f=d(4383),v=d(2340),b=d(529);let m=(()=>{class n{constructor(e){this.http=e,this.serverURL=v.N.serverURL}getDeptDetails(){return this.http.get(`${this.serverURL}/employee/getDeptDetails`,{withCredentials:!0})}submitDoc(e){return this.http.post(`${this.serverURL}/employee/submitDoc`,e,{withCredentials:!0})}submitDocmentdetails(e){return this.http.post(`${this.serverURL}/employee/submitDocmentdetails`,e,{withCredentials:!0})}getDocumentDetails(){return this.http.get(`${this.serverURL}/employee/getDocumentDetails`,{withCredentials:!0})}requestData(e){return this.http.post(`${this.serverURL}/employee/requestData`,e,{withCredentials:!0})}submitReuploadDocmentdetails(e){return this.http.post(`${this.serverURL}/employee/submitReuploadDocmentdetails`,e,{withCredentials:!0})}getDeptidDetails(){return this.http.get(`${this.serverURL}/employee/getDeptidDetails`,{withCredentials:!0})}getdeptidData(){return this.http.get(`${this.serverURL}/employee/getdeptidData`,{withCredentials:!0})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",8),t.NdJ("change",function(i){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onFileSelected(i,c.docNameId))}),t.qZA()(),t.TgZ(7,"td")(8,"textarea",9),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).$implicit;return t.KtG(c.description=i)}),t.qZA()(),t.TgZ(9,"td")(10,"button",10),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onSubmit(s.docNameId,c.attachedDocument.value,s.description,s.docName))}),t._uU(11," Submit "),t.qZA()()()}if(2&n){const e=a.$implicit,o=a.index,i=t.oxw();t.ekj("disabled-row",e.isRowDisabled),t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.docName),t.xp6(2),t.Q6J("formControl",i.attachedDocument),t.xp6(2),t.Q6J("ngModel",e.description),t.xp6(2),t.Q6J("disabled","1"===e.docStatus)}}let Z=(()=>{class n{constructor(e,o,i,s){this.toastr=e,this.fb=o,this.router=i,this.employeeService=s,this.documentNameControl=new r.NI("",[r.kI.required,r.kI.minLength(3)]),this.attachedDocument=new r.NI(null),this.isSubmitDisabled=!1,this.description="",this.documentForm=this.fb.group({documentName:this.documentNameControl,attachedDocument:this.attachedDocument})}ngOnInit(){this.loadDetails()}onReset(){this.description="",this.documentForm.reset()}loadDetails(){this.employeeService.getdeptidData().subscribe(e=>{this.documentDetails=e},e=>this.toastr.error(e.statusText,e.status))}onSubmit(e,o,i,s){null!==o?this.employeeService.submitDocmentdetails({docId:e,file:o,description:i,docName:s}).subscribe(l=>{!0===l&&(alert("Data submitted successfully"),this.onReset(),this.loadDetails())},l=>{alert(`Error: ${l.statusText} (Status: ${l.status})`)}):alert("Please select a file to submit.")}onFileSelected(e,o){const i=e.target.files[0];if(i){if(!["application/pdf","image/jpeg"].includes(i.type))return alert("Only PDF and JPG files are allowed."),void(e.target.value="");if(i.size>5242880)return alert("File size should not exceed 5MB."),void(e.target.value="")}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f._W),t.Y36(r.qu),t.Y36(u.F0),t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-empdocentry"]],decls:22,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["id","alternative-pagination",1,"table","nowrap","dt-responsive","align-middle","table-hover","table-bordered",2,"width","100%"],[3,"disabled-row",4,"ngFor","ngForOf"],["type","file","id","formFile","accept",".pdf, .jpg, .jpeg",1,"form-control",3,"formControl","change"],["placeholder","Enter Description","id","des-info-description-input","rows","3","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-soft-info",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Documents Details"),t.qZA()(),t.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"SR No."),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Document Name"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Document Upload"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Description"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Action"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,y,12,7,"tr",7),t.qZA()()()()()()),2&e&&(t.xp6(21),t.Q6J("ngForOf",o.documentDetails))},dependencies:[p.sg,r.Fj,r.JJ,r.Q7,r.On,r.oH]}),n})(),_=(()=>{class n{constructor(e,o,i,s){this.fb=e,this.router=o,this.employeeService=i,this.toastr=s,this.documentNameControl=new r.NI("",[r.kI.required,r.kI.minLength(3)]),this.attachedDocument=new r.NI(""),this.description=new r.NI(""),this.documentForm=this.fb.group({documentName:this.documentNameControl,attachedDocument:this.attachedDocument,description:this.description})}ngOnInit(){}onSubmit(){this.employeeService.submitDocmentdetails({documentName:this.documentForm.value.documentName,attachedDocument:this.documentForm.value.attachedDocument,description:this.documentForm.value.description}).subscribe(o=>{!0===o&&this.toastr.success("Data addded sucessfully")},o=>this.toastr.error(o.statusText,o.status))}onFileSelected(e){const o=e.target.files[0];o&&(["application/pdf","image/jpeg"].includes(o.type)||(alert("Only PDF and JPG files are allowed."),e.target.value=""))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(u.F0),t.Y36(m),t.Y36(f._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reupload-document"]],decls:43,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-lg-10"],["role","form",3,"formGroup"],["registrationFormID",""],[1,"card"],[1,"bg-warning-subtle","position-relative"],[1,"card-body","p-5"],[1,"text-center"],[1,"shape"],["version","1.1","width","1440","height","60","preserveAspectRatio","none","viewBox","0 0 1440 60"],["mask",'url("#SvgjsMask1001")',"fill","none"],["d","M 0,4 C 144,13 432,48 720,49 C 1008,50 1296,17 1440,9L1440 60L0 60z",2,"fill","var(--vz-secondary-bg)"],["id","SvgjsMask1001"],["width","1440","height","60","fill","#ffffff"],[1,"card-body","p-4"],[1,"d-flex"],[1,"flex-grow-1"],[1,"col-6"],[1,"mb-3"],["for","firstNameinput",1,"form-label"],["type","text","placeholder","Enter your firstname","id","firstNameinput",1,"form-control",3,"formControl"],["id","steparrow-description-info","role","tabpanel","aria-labelledby","steparrow-description-info-tab",1,"tab-pane","fade","show","active"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept",".pdf, .jpg, .jpeg",1,"form-control",3,"formControl","change"],["for","des-info-description-input",1,"form-label"],["placeholder","Enter Description","id","des-info-description-input","rows","3","required","",1,"form-control",3,"formControl"],[1,"invalid-feedback"],[1,"text-end","text-center"],[1,"gap-3","mt-4"],["type","button",1,"btn","btn-info","ms-auto","me-2"],["type","button",1,"btn","btn-success","ms-auto",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),t._uU(9,"Document Entry"),t.qZA()()(),t.TgZ(10,"div",8),t.O4$(),t.TgZ(11,"svg",9)(12,"g",10),t._UZ(13,"path",11),t.qZA(),t.TgZ(14,"defs")(15,"mask",12),t._UZ(16,"rect",13),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"label",19),t._uU(23,"Document Name"),t.qZA(),t._UZ(24,"input",20),t.qZA()(),t.TgZ(25,"div",21)(26,"div")(27,"div",18)(28,"label",22),t._uU(29,"Attach Document"),t.qZA(),t.TgZ(30,"input",23),t.NdJ("change",function(s){return o.onFileSelected(s)}),t.qZA()(),t.TgZ(31,"div")(32,"label",24),t._uU(33,"Description"),t.qZA(),t._UZ(34,"textarea",25),t.TgZ(35,"div",26),t._uU(36,"Please enter a description"),t.qZA()()()()()(),t.TgZ(37,"div",27)(38,"div",28)(39,"button",29),t._uU(40,"Reset"),t.qZA(),t.TgZ(41,"button",30),t.NdJ("click",function(){return o.onSubmit()}),t._uU(42,"Submit"),t.qZA()()()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",o.documentForm),t.xp6(22),t.Q6J("formControl",o.documentNameControl),t.xp6(6),t.Q6J("formControl",o.attachedDocument),t.xp6(4),t.Q6J("formControl",o.description))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.oH,r.sg]}),n})();function D(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",8),t.TgZ(7,"a",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.photoshow(s.docPath))}),t.TgZ(8,"button",10)(9,"i",11),t._uU(10," View Enlarged Image "),t.qZA()()()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"textarea",12),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).$implicit;return t.KtG(c.replyText=i)}),t.qZA()(),t.TgZ(15,"td")(16,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.sendReply(s.replyText,s.docId))}),t._uU(17,"Request"),t.qZA()()()}if(2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij(" ",e.docName," "),t.xp6(2),t.Q6J("src",e.docPath,t.LSH),t.xp6(6),t.Oqu(e.Remark),t.xp6(2),t.Q6J("ngModel",e.replyText)}}const h={role:"Employee"},T=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"docentry",component:Z,data:h},{path:"views",component:(()=>{class n{constructor(e,o,i){this.fb=e,this.router=o,this.employeeService=i,this.replyText=""}ngOnInit(){this.loadDetails()}loadDetails(){this.employeeService.getDocumentDetails().subscribe(e=>{for(let o=0;o<e.length;o++)e[o].docPath="data:image/jpeg;base64,"+e[o].docPath;this.documentDetails=e},e=>{alert(`Error: ${e.statusText} (Status: ${e.status})`)})}sendReply(e,o){this.employeeService.requestData({reply:e,id:o}).subscribe(s=>{"true"===s[0].msg&&alert("Data inserted successfully")},s=>{alert(`Error: ${s.statusText} (Status Code: ${s.status})`)})}photoshow(e){const o=new Image;o.src=e;const i=window.open("");i?i.document.write(o.outerHTML):console.error("Failed to open a new window. Please check pop-up settings.")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(u.F0),t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-empview"]],decls:24,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["id","example",1,"table","table-bordered","dt-responsive","nowrap","table-striped","align-middle",2,"width","100%"],[4,"ngFor","ngForOf"],["alt","Image","width","100","height","100",3,"src"],[3,"click"],["type","button",1,"btn","mr-2","mb-2","btn-info"],["aria-hidden","true",1,"fa","fa-file-image"],["placeholder","Write your reply...",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-soft-info",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Documents Details"),t.qZA()(),t.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"SR No."),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Document Name"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Document Details"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Remarks"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Request"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Action"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,D,18,5,"tr",7),t.qZA()()()()()()),2&e&&(t.xp6(23),t.Q6J("ngForOf",o.documentDetails))},dependencies:[p.sg,r.Fj,r.JJ,r.On]}),n})(),data:h},{path:"reupload",component:_,data:h}];let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(T),u.Bz]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,w,r.u5,r.UX,b.JF]}),n})()}}]);